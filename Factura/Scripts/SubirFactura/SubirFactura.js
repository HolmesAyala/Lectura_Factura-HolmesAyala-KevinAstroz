

var ejemplo1 = { "language": "es", "textAngle": 0.0, "orientation": "Up", "regions": [{ "boundingBox": "145,94,375,329", "lines": [{ "boundingBox": "174,94,346,24", "words": [{ "boundingBox": "174,94,209,24", "text": "SUPERMERCADO" }, { "boundingBox": "391,94,31,24", "text": "EL" }, { "boundingBox": "429,94,91,24", "text": "GRANO" }] }, { "boundingBox": "248,128,168,17", "words": [{ "boundingBox": "248,128,33,17", "text": "NIT" }, { "boundingBox": "288,133,5,12", "text": ":" }, { "boundingBox": "302,128,114,17", "text": "85209936-8" }] }, { "boundingBox": "247,154,169,14", "words": [{ "boundingBox": "247,154,60,14", "text": "PEDw" }, { "boundingBox": "313,154,42,14", "text": "LUIS" }, { "boundingBox": "359,154,57,14", "text": "ORTIZ" }] }, { "boundingBox": "146,209,261,17", "words": [{ "boundingBox": "146,210,69,16", "text": "FECHA:" }, { "boundingBox": "230,209,60,17", "text": "JUNIO" }, { "boundingBox": "300,210,21,16", "text": "10" }, { "boundingBox": "330,210,25,16", "text": "DE" }, { "boundingBox": "362,210,45,16", "text": "2011" }] }, { "boundingBox": "145,245,200,16", "words": [{ "boundingBox": "145,245,90,16", "text": "FACTURA" }, { "boundingBox": "241,245,25,16", "text": "DE" }, { "boundingBox": "274,245,71,16", "text": "VENTA:" }] }, { "boundingBox": "390,245,91,16", "words": [{ "boundingBox": "390,245,91,16", "text": "00000001" }] }, { "boundingBox": "265,293,137,14", "words": [{ "boundingBox": "265,293,73,14", "text": "REGIPIEN" }, { "boundingBox": "344,293,58,14", "text": "OOMt-t.1" }] }, { "boundingBox": "190,314,313,14", "words": [{ "boundingBox": "190,314,24,14", "text": "NO" }, { "boundingBox": "219,314,56,14", "text": "saqos" }, { "boundingBox": "282,314,73,14", "text": "GRANDES" }, { "boundingBox": "360,314,143,14", "text": "CCNTRJBUYENTES" }] }, { "boundingBox": "195,335,292,14", "words": [{ "boundingBox": "195,335,65,14", "text": "RANGC6" }, { "boundingBox": "266,335,113,14", "text": "FACT:SR14650" }, { "boundingBox": "385,335,11,14", "text": "A" }, { "boundingBox": "401,335,86,14", "text": "SRIOOOOOO" }] }, { "boundingBox": "404,353,114,18", "words": [{ "boundingBox": "404,354,21,14", "text": "DE" }, { "boundingBox": "430,353,88,18", "text": "2009/09/3)" }] }, { "boundingBox": "148,408,273,15", "words": [{ "boundingBox": "148,408,73,15", "text": "NOvERE:" }, { "boundingBox": "242,408,71,15", "text": "CLENTE" }, { "boundingBox": "320,408,101,15", "text": "OCACIONAL" }] }] }, { "boundingBox": "703,90,348,193", "lines": [{ "boundingBox": "783,90,189,19", "words": [{ "boundingBox": "783,90,126,19", "text": "Restaurante" }, { "boundingBox": "914,90,58,19", "text": "Babel" }] }, { "boundingBox": "795,124,166,18", "words": [{ "boundingBox": "795,124,47,18", "text": "MT:" }, { "boundingBox": "848,124,113,18", "text": "420186714" }] }, { "boundingBox": "784,159,189,17", "words": [{ "boundingBox": "784,159,58,17", "text": "Pedro" }, { "boundingBox": "846,159,57,17", "text": "Julian" }, { "boundingBox": "908,159,65,17", "text": "Castro" }] }, { "boundingBox": "703,190,348,16", "words": [{ "boundingBox": "703,190,96,16", "text": "Transversal" }, { "boundingBox": "801,191,19,15", "text": "21" }, { "boundingBox": "825,191,21,15", "text": "So" }, { "boundingBox": "850,191,19,15", "text": "24" }, { "boundingBox": "873,191,14,15", "text": "D" }, { "boundingBox": "891,191,19,15", "text": "38" }, { "boundingBox": "914,191,21,15", "text": "La" }, { "boundingBox": "939,191,64,15", "text": "Pradera" }, { "boundingBox": "1007,191,44,15", "text": "Ddas" }] }, { "boundingBox": "772,226,212,22", "words": [{ "boundingBox": "772,226,106,22", "text": "Tel‚fono(s)" }, { "boundingBox": "890,227,34,17", "text": "342" }, { "boundingBox": "932,227,21,17", "text": "14" }, { "boundingBox": "959,231,25,13", "text": "xx" }] }, { "boundingBox": "799,262,157,21", "words": [{ "boundingBox": "799,262,83,21", "text": "R‚gimen" }, { "boundingBox": "887,262,69,17", "text": "Com£n" }] }] }, { "boundingBox": "675,308,112,118", "lines": [{ "boundingBox": "676,308,70,14", "words": [{ "boundingBox": "676,308,70,14", "text": "Factura:" }] }, { "boundingBox": "730,335,57,14", "words": [{ "boundingBox": "730,335,57,14", "text": "Venta:" }] }, { "boundingBox": "675,364,108,15", "words": [{ "boundingBox": "675,365,13,14", "text": "V" }, { "boundingBox": "690,364,93,15", "text": "81didoPor:" }] }, { "boundingBox": "679,412,98,14", "words": [{ "boundingBox": "679,412,98,14", "text": "PRODUCTO" }] }] }, { "boundingBox": "792,308,175,74", "lines": [{ "boundingBox": "792,308,20,14", "words": [{ "boundingBox": "792,308,20,14", "text": "48" }] }, { "boundingBox": "793,334,84,15", "words": [{ "boundingBox": "793,334,84,15", "text": "19.Abr.10" }] }, { "boundingBox": "792,364,175,18", "words": [{ "boundingBox": "792,364,65,15", "text": "WilEam" }, { "boundingBox": "862,366,48,16", "text": "Lopez" }, { "boundingBox": "914,364,53,15", "text": "Garcia" }] }] }, { "boundingBox": "149,432,199,166", "lines": [{ "boundingBox": "242,432,17,15", "words": [{ "boundingBox": "242,432,17,15", "text": "01" }] }, { "boundingBox": "149,455,35,14", "words": [{ "boundingBox": "149,455,35,14", "text": "DIR:" }] }, { "boundingBox": "161,505,68,14", "words": [{ "boundingBox": "161,505,68,14", "text": "DETALLE" }] }, { "boundingBox": "153,532,89,17", "words": [{ "boundingBox": "153,532,43,14", "text": "Arroz" }, { "boundingBox": "200,535,42,14", "text": "grmo" }] }, { "boundingBox": "153,558,195,14", "words": [{ "boundingBox": "153,558,151,14", "text": "ARROZSUPREMO" }, { "boundingBox": "311,558,37,14", "text": "1000" }] }, { "boundingBox": "153,584,134,14", "words": [{ "boundingBox": "153,584,47,14", "text": "Ac " }, { "boundingBox": "206,587,30,10", "text": "cm" }, { "boundingBox": "240,584,47,14", "text": "Sue" }] }] }, { "boundingBox": "917,412,51,129", "lines": [{ "boundingBox": "917,412,50,14", "words": [{ "boundingBox": "917,412,50,14", "text": "CANT." }] }, { "boundingBox": "959,453,9,14", "words": [{ "boundingBox": "959,453,9,14", "text": "1" }] }, { "boundingBox": "959,488,9,15", "words": [{ "boundingBox": "959,488,9,15", "text": "1" }] }, { "boundingBox": "959,526,9,15", "words": [{ "boundingBox": "959,526,9,15", "text": "1" }] }] }, { "boundingBox": "368,505,52,93", "lines": [{ "boundingBox": "368,505,47,14", "words": [{ "boundingBox": "368,505,47,14", "text": "c¯.rr." }] }, { "boundingBox": "409,583,11,15", "words": [{ "boundingBox": "409,583,11,15", "text": "8" }] }] }, { "boundingBox": "453,503,63,96", "lines": [{ "boundingBox": "453,503,54,14", "words": [{ "boundingBox": "453,503,54,14", "text": "VALOR" }] }, { "boundingBox": "474,532,42,16", "words": [{ "boundingBox": "474,532,42,16", "text": "3200" }] }, { "boundingBox": "465,558,51,15", "words": [{ "boundingBox": "465,558,51,15", "text": "16.000" }] }, { "boundingBox": "464,583,52,16", "words": [{ "boundingBox": "464,583,52,16", "text": "82.400" }] }] }, { "boundingBox": "1010,340,54,203", "lines": [{ "boundingBox": "1023,340,38,14", "words": [{ "boundingBox": "1023,340,38,14", "text": "p.m." }] }, { "boundingBox": "1010,412,54,14", "words": [{ "boundingBox": "1010,412,54,14", "text": "TOTAI" }] }, { "boundingBox": "1015,453,48,16", "words": [{ "boundingBox": "1015,453,48,16", "text": "2.000" }] }, { "boundingBox": "1015,489,47,16", "words": [{ "boundingBox": "1015,489,47,16", "text": "8.000" }] }, { "boundingBox": "1016,526,47,17", "words": [{ "boundingBox": "1016,526,47,17", "text": "1,000" }] }] }, { "boundingBox": "220,628,153,15", "lines": [{ "boundingBox": "220,628,153,15", "words": [{ "boundingBox": "220,628,54,14", "text": "VROR" }, { "boundingBox": "298,628,75,15", "text": "IMPOCON" }] }] }, { "boundingBox": "141,660,47,76", "lines": [{ "boundingBox": "141,660,47,19", "words": [{ "boundingBox": "141,660,47,19", "text": "(00%)" }] }, { "boundingBox": "141,688,47,19", "words": [{ "boundingBox": "141,688,47,19", "text": "(10%)" }] }, { "boundingBox": "141,716,47,20", "words": [{ "boundingBox": "141,716,47,20", "text": "(169" }] }] }, { "boundingBox": "399,628,135,79", "lines": [{ "boundingBox": "399,628,135,15", "words": [{ "boundingBox": "399,628,40,15", "text": "BASE" }, { "boundingBox": "444,628,28,15", "text": "IVA" }, { "boundingBox": "506,628,28,15", "text": "IVA" }] }, { "boundingBox": "425,665,50,17", "words": [{ "boundingBox": "425,665,50,17", "text": "19,200" }] }, { "boundingBox": "466,692,9,15", "words": [{ "boundingBox": "466,692,9,15", "text": "o" }] }] }, { "boundingBox": "534,505,29,199", "lines": [{ "boundingBox": "534,505,27,14", "words": [{ "boundingBox": "534,505,27,14", "text": "IVA" }] }, { "boundingBox": "544,583,19,15", "words": [{ "boundingBox": "544,583,19,15", "text": "16" }] }, { "boundingBox": "538,689,10,15", "words": [{ "boundingBox": "538,689,10,15", "text": "o" }] }] }, { "boundingBox": "678,453,210,264", "lines": [{ "boundingBox": "679,453,195,14", "words": [{ "boundingBox": "679,453,75,14", "text": "CERVEZA" }, { "boundingBox": "759,453,63,14", "text": "AGUILA" }, { "boundingBox": "825,453,49,14", "text": "LIGHT" }] }, { "boundingBox": "680,489,208,14", "words": [{ "boundingBox": "680,489,133,14", "text": "HAMBURGUESA" }, { "boundingBox": "817,489,71,14", "text": "GRANDE" }] }, { "boundingBox": "680,526,76,14", "words": [{ "boundingBox": "680,526,34,14", "text": "POR" }, { "boundingBox": "716,526,40,14", "text": "CON" }] }, { "boundingBox": "679,549,152,14", "words": [{ "boundingBox": "679,549,152,14", "text": "CHICHARRONCITO" }] }, { "boundingBox": "678,573,93,14", "words": [{ "boundingBox": "678,573,93,14", "text": "AHUMADO" }] }, { "boundingBox": "699,630,111,17", "words": [{ "boundingBox": "699,630,66,17", "text": "TOTAL" }, { "boundingBox": "770,630,40,17", "text": "IVA:" }] }, { "boundingBox": "680,665,130,17", "words": [{ "boundingBox": "680,665,64,17", "text": "TOTAL" }, { "boundingBox": "749,665,61,17", "text": "Dscto:" }] }, { "boundingBox": "734,700,70,17", "words": [{ "boundingBox": "734,700,70,17", "text": "TOTAL:" }] }] }, { "boundingBox": "231,665,133,130", "lines": [{ "boundingBox": "232,665,51,17", "words": [{ "boundingBox": "232,665,51,17", "text": "19200" }] }, { "boundingBox": "231,718,52,17", "words": [{ "boundingBox": "231,718,52,17", "text": "82400" }] }, { "boundingBox": "234,781,130,14", "words": [{ "boundingBox": "234,781,51,14", "text": "TOTA" }, { "boundingBox": "291,781,12,14", "text": "A" }, { "boundingBox": "307,781,57,14", "text": "P%AR:" }] }] }, { "boundingBox": "368,665,9,67", "lines": [{ "boundingBox": "368,665,9,14", "words": [{ "boundingBox": "368,665,9,14", "text": "o" }] }, { "boundingBox": "368,718,9,14", "words": [{ "boundingBox": "368,718,9,14", "text": "o" }] }] }, { "boundingBox": "952,630,68,91", "lines": [{ "boundingBox": "982,630,38,17", "words": [{ "boundingBox": "982,630,38,17", "text": "276" }] }, { "boundingBox": "952,700,68,21", "words": [{ "boundingBox": "952,700,68,21", "text": "11,000" }] }] }, { "boundingBox": "424,718,127,81", "lines": [{ "boundingBox": "424,718,124,17", "words": [{ "boundingBox": "424,718,51,17", "text": "71,034" }, { "boundingBox": "497,718,51,17", "text": "11,366" }] }, { "boundingBox": "476,781,75,18", "words": [{ "boundingBox": "476,781,75,18", "text": "101,600" }] }] }, { "boundingBox": "207,814,290,61", "lines": [{ "boundingBox": "240,814,224,18", "words": [{ "boundingBox": "240,814,224,18", "text": "TEL:52180203685020" }] }, { "boundingBox": "207,842,290,14", "words": [{ "boundingBox": "207,842,123,14", "text": "DEVQUCIOES" }, { "boundingBox": "337,842,49,14", "text": "*WES" }, { "boundingBox": "392,842,21,14", "text": "DE" }, { "boundingBox": "419,842,18,14", "text": "48" }, { "boundingBox": "442,842,55,14", "text": "HORAS" }] }, { "boundingBox": "249,861,207,14", "words": [{ "boundingBox": "249,861,69,14", "text": "GRKI,SS" }, { "boundingBox": "323,861,34,14", "text": "POR" }, { "boundingBox": "362,861,21,14", "text": "SU" }, { "boundingBox": "388,861,68,14", "text": "cavPRA" }] }] }, { "boundingBox": "678,766,384,89", "lines": [{ "boundingBox": "709,766,327,17", "words": [{ "boundingBox": "709,766,101,17", "text": "Resolucion" }, { "boundingBox": "816,766,57,17", "text": "DIAN" }, { "boundingBox": "878,770,71,13", "text": "numero" }, { "boundingBox": "955,766,81,17", "text": "1234565" }] }, { "boundingBox": "678,793,384,17", "words": [{ "boundingBox": "678,794,108,16", "text": "consecutivo" }, { "boundingBox": "791,793,55,17", "text": "desde" }, { "boundingBox": "851,793,79,17", "text": "1000001" }, { "boundingBox": "937,793,48,17", "text": "basta" }, { "boundingBox": "992,793,70,17", "text": "101000" }] }, { "boundingBox": "760,834,218,21", "words": [{ "boundingBox": "760,834,73,17", "text": "Gracias" }, { "boundingBox": "839,838,32,17", "text": "por" }, { "boundingBox": "903,834,75,21", "text": "Conva" }] }] }] };

var ejemplo2 = { "language": "pt", "textAngle": 0.0, "orientation": "Up", "regions": [{ "boundingBox": "768,133,240,19", "lines": [{ "boundingBox": "768,133,240,19", "words": [{ "boundingBox": "768,133,114,19", "text": "FACIVRA" }, { "boundingBox": "889,134,31,17", "text": "DE" }, { "boundingBox": "927,133,81,19", "text": "VENTA" }] }] }, { "boundingBox": "837,163,29,14", "lines": [{ "boundingBox": "837,163,29,14", "words": [{ "boundingBox": "837,163,29,14", "text": "No." }] }] }, { "boundingBox": "927,162,21,15", "lines": [{ "boundingBox": "927,162,21,15", "words": [{ "boundingBox": "927,162,21,15", "text": "21" }] }] }, { "boundingBox": "794,186,193,15", "lines": [{ "boundingBox": "794,186,193,15", "words": [{ "boundingBox": "794,186,74,15", "text": "REOtMEN" }, { "boundingBox": "872,186,115,15", "text": "SIMPUFIChDO" }] }] }, { "boundingBox": "497,206,209,98", "lines": [{ "boundingBox": "534,206,131,14", "words": [{ "boundingBox": "534,206,84,14", "text": "VIWALBA" }, { "boundingBox": "624,206,41,14", "text": "SA.R" }] }, { "boundingBox": "549,228,107,13", "words": [{ "boundingBox": "549,228,34,13", "text": "NIT:" }, { "boundingBox": "587,228,69,13", "text": "\"3684S.8" }] }, { "boundingBox": "497,248,209,15", "words": [{ "boundingBox": "497,248,62,15", "text": "C&4SF" }, { "boundingBox": "606,249,22,14", "text": "103" }, { "boundingBox": "671,248,35,15", "text": "IOIA" }] }, { "boundingBox": "529,268,146,18", "words": [{ "boundingBox": "529,268,117,18", "text": "v+tAa@btmul" }, { "boundingBox": "648,273,27,10", "text": "cora" }] }, { "boundingBox": "552,290,101,14", "words": [{ "boundingBox": "552,290,35,14", "text": "Cu." }, { "boundingBox": "591,290,62,13", "text": "Cobrb " }] }] }, { "boundingBox": "111,332,93,220", "lines": [{ "boundingBox": "140,332,45,12", "words": [{ "boundingBox": "140,332,45,12", "text": "ORES:" }] }, { "boundingBox": "111,353,93,13", "words": [{ "boundingBox": "111,353,93,13", "text": "DmECCIONt" }] }, { "boundingBox": "111,371,78,16", "words": [{ "boundingBox": "111,371,78,16", "text": "rnh0N0" }] }, { "boundingBox": "167,538,7,14", "words": [{ "boundingBox": "167,538,7,14", "text": "1" }] }] }, { "boundingBox": "222,274,218,466", "lines": [{ "boundingBox": "246,274,121,19", "words": [{ "boundingBox": "246,274,121,19", "text": "UALBA" }] }, { "boundingBox": "227,332,42,14", "words": [{ "boundingBox": "227,332,30,14", "text": "Jusn" }, { "boundingBox": "261,332,8,13", "text": "F" }] }, { "boundingBox": "226,351,122,15", "words": [{ "boundingBox": "226,352,33,14", "text": "caut" }, { "boundingBox": "264,352,15,14", "text": "12" }, { "boundingBox": "287,351,61,15", "text": "N034-42" }] }, { "boundingBox": "226,455,98,17", "words": [{ "boundingBox": "226,459,26,13", "text": "cga" }, { "boundingBox": "304,455,20,13", "text": "3.3" }] }, { "boundingBox": "278,475,54,17", "words": [{ "boundingBox": "278,475,54,17", "text": "jw.0037" }] }, { "boundingBox": "227,496,126,14", "words": [{ "boundingBox": "227,496,24,14", "text": "DO" }, { "boundingBox": "255,496,49,14", "text": "Externo" }, { "boundingBox": "308,496,45,14", "text": "HV611" }] }, { "boundingBox": "268,517,30,14", "words": [{ "boundingBox": "268,517,30,14", "text": "duo" }] }, { "boundingBox": "227,539,56,13", "words": [{ "boundingBox": "227,539,56,13", "text": "Morato:" }] }, { "boundingBox": "338,579,25,15", "words": [{ "boundingBox": "338,579,25,15", "text": "355" }] }, { "boundingBox": "222,726,218,14", "words": [{ "boundingBox": "222,726,77,14", "text": "\"ORACIAS" }, { "boundingBox": "303,726,33,14", "text": "POR" }, { "boundingBox": "338,726,20,14", "text": "SU" }, { "boundingBox": "361,726,79,14", "text": "COMPRA" }] }] }, { "boundingBox": "751,332,60,54", "lines": [{ "boundingBox": "751,332,55,13", "words": [{ "boundingBox": "751,332,55,13", "text": "FECH&" }] }, { "boundingBox": "752,374,59,12", "words": [{ "boundingBox": "752,374,59,12", "text": "CWDAD" }] }] }, { "boundingBox": "842,332,77,34", "lines": [{ "boundingBox": "845,332,74,14", "words": [{ "boundingBox": "845,332,74,14", "text": "angr2014" }] }, { "boundingBox": "842,352,47,14", "words": [{ "boundingBox": "842,352,47,14", "text": "192$55" }] }] }, { "boundingBox": "762,434,110,286", "lines": [{ "boundingBox": "815,434,51,15", "words": [{ "boundingBox": "815,434,51,15", "text": "160.00)" }] }, { "boundingBox": "802,516,64,16", "words": [{ "boundingBox": "802,516,9,16", "text": "$" }, { "boundingBox": "816,517,50,15", "text": "120.000" }] }, { "boundingBox": "802,537,64,16", "words": [{ "boundingBox": "802,537,9,16", "text": "$" }, { "boundingBox": "814,538,52,15", "text": "200.00)" }] }, { "boundingBox": "810,558,56,15", "words": [{ "boundingBox": "810,558,8,15", "text": "$" }, { "boundingBox": "824,558,42,15", "text": "12.003" }] }, { "boundingBox": "810,579,57,16", "words": [{ "boundingBox": "810,579,8,15", "text": "$" }, { "boundingBox": "822,579,45,16", "text": "13000" }] }, { "boundingBox": "802,600,65,16", "words": [{ "boundingBox": "802,600,9,16", "text": "$" }, { "boundingBox": "813,601,54,15", "text": "650.000" }] }, { "boundingBox": "768,664,104,15", "words": [{ "boundingBox": "768,664,104,15", "text": "stmrorum,i2'" }] }, { "boundingBox": "767,685,27,13", "words": [{ "boundingBox": "767,685,27,13", "text": "IVA" }] }, { "boundingBox": "762,706,108,14", "words": [{ "boundingBox": "762,706,55,14", "text": "VALOR" }, { "boundingBox": "819,706,51,14", "text": "TOTAL" }] }] }, { "boundingBox": "966,434,65,99", "lines": [{ "boundingBox": "980,434,25,15", "words": [{ "boundingBox": "980,434,25,15", "text": "160." }] }, { "boundingBox": "966,495,64,16", "words": [{ "boundingBox": "966,495,8,15", "text": "$" }, { "boundingBox": "980,496,50,15", "text": "145.000" }] }, { "boundingBox": "966,516,65,17", "words": [{ "boundingBox": "966,516,9,16", "text": "$" }, { "boundingBox": "980,517,51,16", "text": "120,000" }] }] }] };

var ejemplo3 = { "language": "pt", "textAngle": 0.0, "orientation": "Up", "regions": [{ "boundingBox": "768,133,240,19", "lines": [{ "boundingBox": "768,133,240,19", "words": [{ "boundingBox": "768,133,114,19", "text": "FACIVRA" }, { "boundingBox": "889,134,31,17", "text": "DE" }, { "boundingBox": "927,133,81,19", "text": "VENTA" }] }] }, { "boundingBox": "837,163,29,14", "lines": [{ "boundingBox": "837,163,29,14", "words": [{ "boundingBox": "837,163,29,14", "text": "No." }] }] }, { "boundingBox": "927,162,21,15", "lines": [{ "boundingBox": "927,162,21,15", "words": [{ "boundingBox": "927,162,21,15", "text": "21" }] }] }, { "boundingBox": "794,186,193,15", "lines": [{ "boundingBox": "794,186,193,15", "words": [{ "boundingBox": "794,186,74,15", "text": "REOtMEN" }, { "boundingBox": "872,186,115,15", "text": "SIMPUFIChDO" }] }] }, { "boundingBox": "497,206,209,98", "lines": [{ "boundingBox": "534,206,131,14", "words": [{ "boundingBox": "534,206,84,14", "text": "VIWALBA" }, { "boundingBox": "624,206,41,14", "text": "SA.R" }] }, { "boundingBox": "549,228,107,13", "words": [{ "boundingBox": "549,228,34,13", "text": "NIT:" }, { "boundingBox": "587,228,69,13", "text": "\"3684S.8" }] }, { "boundingBox": "497,248,209,15", "words": [{ "boundingBox": "497,248,62,15", "text": "C&4SF" }, { "boundingBox": "606,249,22,14", "text": "103" }, { "boundingBox": "671,248,35,15", "text": "IOIA" }] }, { "boundingBox": "529,268,146,18", "words": [{ "boundingBox": "529,268,117,18", "text": "v+tAa@btmul" }, { "boundingBox": "648,273,27,10", "text": "cora" }] }, { "boundingBox": "552,290,101,14", "words": [{ "boundingBox": "552,290,35,14", "text": "Cu." }, { "boundingBox": "591,290,62,13", "text": "Cobrb " }] }] }, { "boundingBox": "111,332,93,220", "lines": [{ "boundingBox": "140,332,45,12", "words": [{ "boundingBox": "140,332,45,12", "text": "ORES:" }] }, { "boundingBox": "111,353,93,13", "words": [{ "boundingBox": "111,353,93,13", "text": "DmECCIONt" }] }, { "boundingBox": "111,371,78,16", "words": [{ "boundingBox": "111,371,78,16", "text": "rnh0N0" }] }, { "boundingBox": "167,538,7,14", "words": [{ "boundingBox": "167,538,7,14", "text": "1" }] }] }, { "boundingBox": "222,274,218,466", "lines": [{ "boundingBox": "246,274,121,19", "words": [{ "boundingBox": "246,274,121,19", "text": "UALBA" }] }, { "boundingBox": "227,332,42,14", "words": [{ "boundingBox": "227,332,30,14", "text": "Jusn" }, { "boundingBox": "261,332,8,13", "text": "F" }] }, { "boundingBox": "226,351,122,15", "words": [{ "boundingBox": "226,352,33,14", "text": "caut" }, { "boundingBox": "264,352,15,14", "text": "12" }, { "boundingBox": "287,351,61,15", "text": "N034-42" }] }, { "boundingBox": "226,455,98,17", "words": [{ "boundingBox": "226,459,26,13", "text": "cga" }, { "boundingBox": "304,455,20,13", "text": "3.3" }] }, { "boundingBox": "278,475,54,17", "words": [{ "boundingBox": "278,475,54,17", "text": "jw.0037" }] }, { "boundingBox": "227,496,126,14", "words": [{ "boundingBox": "227,496,24,14", "text": "DO" }, { "boundingBox": "255,496,49,14", "text": "Externo" }, { "boundingBox": "308,496,45,14", "text": "HV611" }] }, { "boundingBox": "268,517,30,14", "words": [{ "boundingBox": "268,517,30,14", "text": "duo" }] }, { "boundingBox": "227,539,56,13", "words": [{ "boundingBox": "227,539,56,13", "text": "Morato:" }] }, { "boundingBox": "338,579,25,15", "words": [{ "boundingBox": "338,579,25,15", "text": "355" }] }, { "boundingBox": "222,726,218,14", "words": [{ "boundingBox": "222,726,77,14", "text": "\"ORACIAS" }, { "boundingBox": "303,726,33,14", "text": "POR" }, { "boundingBox": "338,726,20,14", "text": "SU" }, { "boundingBox": "361,726,79,14", "text": "COMPRA" }] }] }, { "boundingBox": "751,332,60,54", "lines": [{ "boundingBox": "751,332,55,13", "words": [{ "boundingBox": "751,332,55,13", "text": "FECH&" }] }, { "boundingBox": "752,374,59,12", "words": [{ "boundingBox": "752,374,59,12", "text": "CWDAD" }] }] }, { "boundingBox": "842,332,77,34", "lines": [{ "boundingBox": "845,332,74,14", "words": [{ "boundingBox": "845,332,74,14", "text": "angr2014" }] }, { "boundingBox": "842,352,47,14", "words": [{ "boundingBox": "842,352,47,14", "text": "192$55" }] }] }, { "boundingBox": "762,434,110,286", "lines": [{ "boundingBox": "815,434,51,15", "words": [{ "boundingBox": "815,434,51,15", "text": "160.00)" }] }, { "boundingBox": "802,516,64,16", "words": [{ "boundingBox": "802,516,9,16", "text": "$" }, { "boundingBox": "816,517,50,15", "text": "120.000" }] }, { "boundingBox": "802,537,64,16", "words": [{ "boundingBox": "802,537,9,16", "text": "$" }, { "boundingBox": "814,538,52,15", "text": "200.00)" }] }, { "boundingBox": "810,558,56,15", "words": [{ "boundingBox": "810,558,8,15", "text": "$" }, { "boundingBox": "824,558,42,15", "text": "12.003" }] }, { "boundingBox": "810,579,57,16", "words": [{ "boundingBox": "810,579,8,15", "text": "$" }, { "boundingBox": "822,579,45,16", "text": "13000" }] }, { "boundingBox": "802,600,65,16", "words": [{ "boundingBox": "802,600,9,16", "text": "$" }, { "boundingBox": "813,601,54,15", "text": "650.000" }] }, { "boundingBox": "768,664,104,15", "words": [{ "boundingBox": "768,664,104,15", "text": "stmrorum,i2'" }] }, { "boundingBox": "767,685,27,13", "words": [{ "boundingBox": "767,685,27,13", "text": "IVA" }] }, { "boundingBox": "762,706,108,14", "words": [{ "boundingBox": "762,706,55,14", "text": "VALOR" }, { "boundingBox": "819,706,51,14", "text": "TOTAL" }] }] }, { "boundingBox": "966,434,65,99", "lines": [{ "boundingBox": "980,434,25,15", "words": [{ "boundingBox": "980,434,25,15", "text": "160." }] }, { "boundingBox": "966,495,64,16", "words": [{ "boundingBox": "966,495,8,15", "text": "$" }, { "boundingBox": "980,496,50,15", "text": "145.000" }] }, { "boundingBox": "966,516,65,17", "words": [{ "boundingBox": "966,516,9,16", "text": "$" }, { "boundingBox": "980,517,51,16", "text": "120,000" }] }] }] };

var ejemplo4 = { "language": "ro", "textAngle": 0.0, "orientation": "Up", "regions": [{ "boundingBox": "85,88,180,82", "lines": [{ "boundingBox": "85,88,180,82", "words": [{ "boundingBox": "85,88,180,82", "text": "Siigo" }] }] }, { "boundingBox": "304,84,335,187", "lines": [{ "boundingBox": "304,84,335,15", "words": [{ "boundingBox": "304,85,86,14", "text": "EMPRESA" }, { "boundingBox": "395,85,23,14", "text": "DE" }, { "boundingBox": "424,84,131,15", "text": "CAPACITACION" }, { "boundingBox": "561,84,48,14", "text": "SIIGO" }, { "boundingBox": "616,84,23,13", "text": "SA" }] }, { "boundingBox": "441,103,93,11", "words": [{ "boundingBox": "441,103,74,11", "text": "830.045.306" }, { "boundingBox": "527,103,7,10", "text": "a" }] }, { "boundingBox": "347,117,248,12", "words": [{ "boundingBox": "347,119,19,10", "text": "AV" }, { "boundingBox": "370,119,17,9", "text": "KR" }, { "boundingBox": "392,119,35,10", "text": "4SNo" }, { "boundingBox": "437,119,20,10", "text": "108" }, { "boundingBox": "462,124,3,2", "text": "." }, { "boundingBox": "539,118,7,10", "text": "2" }, { "boundingBox": "550,117,18,11", "text": "OF" }, { "boundingBox": "572,117,23,11", "text": "606" }] }, { "boundingBox": "402,133,139,11", "words": [{ "boundingBox": "402,133,56,11", "text": "BOGOTA" }, { "boundingBox": "463,139,3,1", "text": "-" }, { "boundingBox": "471,133,70,10", "text": "COLOMB\\A" }] }, { "boundingBox": "406,148,50,10", "words": [{ "boundingBox": "406,148,50,10", "text": "5689741" }] }, { "boundingBox": "499,237,105,11", "words": [{ "boundingBox": "499,238,61,10", "text": "C¶Rv¶J¶L" }, { "boundingBox": "564,237,40,11", "text": "LEMOS" }] }, { "boundingBox": "427,261,34,10", "words": [{ "boundingBox": "427,261,34,10", "text": "C.to" }] }] }, { "boundingBox": "674,190,197,141", "lines": [{ "boundingBox": "702,190,169,19", "words": [{ "boundingBox": "702,195,79,14", "text": "FACTURA" }, { "boundingBox": "786,193,23,13", "text": "DE" }, { "boundingBox": "815,190,56,15", "text": "VENTA" }] }, { "boundingBox": "744,227,82,16", "words": [{ "boundingBox": "744,229,28,14", "text": "wc" }, { "boundingBox": "779,236,4,3", "text": "." }, { "boundingBox": "789,227,37,14", "text": "5367" }] }, { "boundingBox": "737,258,83,11", "words": [{ "boundingBox": "737,259,34,10", "text": "F..ch." }, { "boundingBox": "775,258,45,10", "text": "Factura" }] }, { "boundingBox": "674,321,38,10", "words": [{ "boundingBox": "674,322,11,8", "text": "V." }, { "boundingBox": "689,321,23,10", "text": "unit" }] }] }, { "boundingBox": "39,341,717,284", "lines": [{ "boundingBox": "743,341,13,9", "words": [{ "boundingBox": "743,341,13,9", "text": "00" }] }, { "boundingBox": "635,393,28,9", "words": [{ "boundingBox": "635,393,28,9", "text": "rota" }] }, { "boundingBox": "635,411,82,10", "words": [{ "boundingBox": "635,411,82,10", "text": "DescuENTO'" }] }, { "boundingBox": "636,449,44,10", "words": [{ "boundingBox": "636,449,44,10", "text": "CARGO" }] }, { "boundingBox": "636,506,97,15", "words": [{ "boundingBox": "636,506,37,12", "text": "?otl" }, { "boundingBox": "677,509,9,9", "text": "" }, { "boundingBox": "691,506,42,15", "text": "Pgar" }] }, { "boundingBox": "384,550,32,10", "words": [{ "boundingBox": "384,550,32,10", "text": "C-uot" }] }, { "boundingBox": "221,590,168,11", "words": [{ "boundingBox": "221,592,7,7", "text": "?" }, { "boundingBox": "355,590,34,11", "text": "Pe?." }] }, { "boundingBox": "39,613,110,12", "words": [{ "boundingBox": "39,613,110,12", "text": "OOSERV¶C/ONES" }] }] }, { "boundingBox": "798,337,104,182", "lines": [{ "boundingBox": "884,337,14,9", "words": [{ "boundingBox": "884,337,14,9", "text": "00" }] }, { "boundingBox": "845,447,56,10", "words": [{ "boundingBox": "845,447,56,10", "text": "4900000" }] }, { "boundingBox": "888,466,14,10", "words": [{ "boundingBox": "888,466,14,10", "text": "00" }] }, { "boundingBox": "847,485,55,10", "words": [{ "boundingBox": "847,485,36,10", "text": "'3.524" }, { "boundingBox": "888,485,14,10", "text": "oc" }] }, { "boundingBox": "798,505,104,14", "words": [{ "boundingBox": "798,505,8,14", "text": "S" }, { "boundingBox": "811,506,6,11", "text": "1" }, { "boundingBox": "820,505,82,14", "text": "A64.600,oo" }] }] }] };

var object = ejemplo4;

console.log(object);


function preload() {
    
}

function setup() {
    createCanvas(500, 500);
}


var pintar = false;
var rutaImagen = '../../Image/Ejemplo4.jpg';
var img = null;

function draw() {

    if (pintar) {

        console.log(img);
        createCanvas(img.width, img.height);

        image(img, 0, 0);

        var cont = 0;

        object.regions.forEach(
            function (region) {

                var coordenadas = region.boundingBox.split(",");

                console.log(coordenadas);

                fill('rgb(255,0,0)');
                stroke('rgb(255,0,0)');
                textSize(24);
                strokeWeight(1);
                text(cont, parseInt(coordenadas[0]), parseInt(coordenadas[1]));
                cont++;

                noFill();
                strokeWeight(3);
                stroke('rgb(0,255,0)');
                rect(parseInt(coordenadas[0]), parseInt(coordenadas[1]), parseInt(coordenadas[2]), parseInt(coordenadas[3]));
            }
        );

        console.log("pintar");
        pintar = false;
    }
}

var FormCargarArchivo = $("#FormCargarArchivo");

var nombreArchivo = "";

FormCargarArchivo.submit(
    function (event) {
        event.preventDefault();
        var selecionoArchivo = 1;

        var campoArchivo = document.getElementById("Archivo");

        var cantidadArchivos = campoArchivo.files.length;

        if (cantidadArchivos == selecionoArchivo) {
            var archivo = campoArchivo.files[0];

            nombreArchivo = archivo.name;

            console.log(archivo);

            if (tipoArchivoValido(archivo)) {
                getBase64FromFile(archivo, function (base64, file) {
                    enviarFactura(base64, file);
                });
            }
            else {
                mostrarMensaje("Formato de archivo no valido");
            }
        }
    }
);

function tipoArchivoValido(archivo) {
    var tiposValidos = ["image/jpeg", "image/png"];

    return tiposValidos.includes(archivo.type);
}

function enviarFactura(facturaBase64, file) {
    var url = "/SubirFactura/cargarFactura";

    var data = { Data: facturaBase64, NombreArchivo: file.name };

    $.post(url, data).done(
        function (respuesta) {
            if (respuesta.Estado == MENSAJE_CORRECTO) {

                var data = JSON.parse(respuesta.Data);

                var respuestaAzure = JSON.parse(data.Data);

                rutaImagen = data.RutaArchivo;

                object = respuestaAzure;

                loadImage("../" + rutaImagen, function (m) {
                    //image(img, 0, 0);
                    img = m;
                    pintar = true;
                });
                
            }
            
            mostrarMensajeRespuestaPost(respuesta);
        }
    ).fail(mostrarErrorRespuestaPost);
}

function getBase64FromFile(img, archivoBase64) {
    let fileReader = new FileReader();

    fileReader.addEventListener('load', function (evt) {
        archivoBase64(fileReader.result, img);
    });

    fileReader.readAsDataURL(img);
}